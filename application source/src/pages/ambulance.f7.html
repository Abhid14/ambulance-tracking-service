<template>
  <!-- Login Screen -->

  <div class="page" data-name="ambulance">

    <div class="toolbar tabbar toolbar-bottom">
      <div class="toolbar-inner">
        <a href="#amb-map" class="tab-link tab-link-active"><i class="icon material-icons md-only">map</i>
          <span class="tabbar-label">Map</span></a>
        <a href="#amb-prof" class="tab-link"><i class="icon material-icons md-only"><span
              class="material-icons-outlined">
              assignment_ind
            </span></i>
          <span class="tabbar-label">Account</span></a>
      </div>
    </div>
    <div class="tabs">
      <div id="amb-map" class="page-content tab tab-active">

        <div id="map" class="myMap" style="position:relative;width:100%;height:100%; text-align: center;">
          <button class="button-large button-raised button-fill button" @click=${a}>Load Map</button>
        </div>


      </div>
      <div id="amb-prof" class="page-content tab">
        <div class="view">settings</div>
      </div>
    </div>
  </div>
</template>
<script>

  export default () => {
    const a = () => {
      mapboxgl.accessToken = 'pk.eyJ1IjoiYWJoaXJhbmdlcm1hcGJveCIsImEiOiJja25sNjJ4d3QwMjRzMnFsaTF2eno2Y2N0In0.R2nh61HBc6YfuLxTHO6SPw';
      var map = new mapboxgl.Map({
        container: 'map', // container id
        style: 'mapbox://styles/mapbox/streets-v11', // style URL
        center: [78.31332119498711, 21.80992239473943], // starting position [lng, lat]
        zoom: 3 // starting zoom
      });
      // Add geolocate control to the map.
      map.addControl(
        new mapboxgl.GeolocateControl({
          positionOptions: {
            enableHighAccuracy: true
          },
          trackUserLocation: true
        })
      );

    }


    return $render;
  };
  /*alert(getDistanceFromLatLonInKm(59.3293371,13.4877472,59.3225525,13.4619422).toFixed(1));



function getDistanceFromLatLonInKm(lat1,lon1,lat2,lon2) {
  var R = 6371; // Radius of the earth in km
  var dLat = deg2rad(lat2-lat1);  // deg2rad below
  var dLon = deg2rad(lon2-lon1);
  var a =
    Math.sin(dLat/2) * Math.sin(dLat/2) +
    Math.cos(deg2rad(lat1)) * Math.cos(deg2rad(lat2)) *
    Math.sin(dLon/2) * Math.sin(dLon/2)
    ;
  var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
  var d = R * c; // Distance in km
  return d;
}

function deg2rad(deg) {
  return deg * (Math.PI/180)
} */
</script>